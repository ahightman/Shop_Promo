{"version":3,"sources":["app.js","promos/new-promo-controller.js","promos/promo-store.js","promos/promo.js","promos/promos-controller.js","errors/404/error-404-controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA","file":"app.js","sourcesContent":["// Declare our app module, and import the ngRoute and ngAnimate\n// modules into it.\nvar app = angular.module('app', ['ngRoute']);\n\n// Set up our 404 handler\napp.config(['$routeProvider', function ($routeProvider) {\n  $routeProvider.otherwise({\n    controller: 'Error404Ctrl',\n    controllerAs: 'vm',\n    templateUrl: 'errors/404/error-404.html'\n  });\n}]);\n","app.config(['$routeProvider', function ($routeProvider) {\n  $routeProvider.when('/promo/new', {\n    controller: 'NewPromoCtrl',\n    controllerAs: 'vm',\n    templateUrl: 'promos/new-promo.html'\n  });\n}]).controller('NewPromoCtrl', ['$location', 'Promo', 'promoStore', function ($location, Promo, promoStore) {\n  var self = this;\n\n  self.promo = Promo();\n\n  self.doneEditing = function () {\n    promoStore.add(self.promo);\n    self.goToPromos();\n  };\n\n  self.cancelEditing = function () {\n    self.goToPromos();\n  };\n\n  self.goToPromos = function () {\n    $location.path('/promos');\n  };\n\n}]);\n","app.factory('promoStore', function () {\n  var promos = [];\n\n  return {\n    all: function () {\n      return promos;\n    },\n\n    add: function (promo) {\n      promos.push(promo);\n    },\n\n    remove: function (promo) {\n      var index = promos.indexOf(promo);\n\n      if (index >= 0) {\n        promos.splice(index, 1);\n      }\n    }\n  };\n\n});\n","app.factory('Promo', function () {\n  return Promo;\n\n  function Promo (spec) {\n    spec = spec || {};\n\n    var self = {\n      year: spec.year || '',\n      make: spec.make || '',\n      model: spec.model || '',\n      mileage: spec.mileage || '',\n      style: spec.style || '',\n      trans: spec.trans || '',\n      extcolor: spec.extcolor || '',\n      intcolor: spec.intcolor || '',\n      price: spec.price || 0,\n\n      upgrades: spec.upgrades || [Upgrade()],\n\n      get total () {\n        return self.upgrades.reduce(function (total, item) {\n          return total + item.cost;\n        }, Number(self.price));\n      },\n\n      addUpgrade: function (description, cost) {\n        self.upgrades.push(Upgrade({\n          description: description,\n          cost: cost\n        }));\n      },\n\n      deleteUpgrade: function (item) {\n        var index = self.upgrades.indexOf(item);\n\n        if(index >= 0) {\n          self.upgrades.splice(index, 1);\n        }\n        if(!self.upgrades.length) {\n          self.upgrades.push(Upgrade());\n        }\n      }\n    };\n\n    return self;\n  }\n\n  function Upgrade (spec) {\n    spec = spec || {};\n\n    return {\n      description: spec.description || '',\n      cost: spec.cost || 0,\n    };\n  }\n\n});\n","\napp.config(['$routeProvider', function ($routeProvider) {\n  var routeDefinition = {\n    controller: 'PromosCtrl',\n    controllerAs: 'vm',\n    templateUrl: 'promos/promos.html'\n  };\n\n  $routeProvider.when('/', routeDefinition);\n  $routeProvider.when('/promos', routeDefinition);\n}]).controller('PromosCtrl', ['promoStore', function(promoStore) {\n  var self = this;\n\n  self.all = promoStore.all;\n\n  self.removePromo = promoStore.remove;\n\n}]);\n","app.controller('Error404Ctrl', ['$location', function ($location) {\n  this.message = 'Could not find: ' + $location.url();\n}]);\n"],"sourceRoot":"/source/"}